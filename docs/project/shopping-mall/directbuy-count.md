---
layout: default
title: "[cart] 바로구매 수량 처리"
parent: shop
nav_order: 22
---

# 주문-바로구매 수량


현업에서 **“바로구매”의 수량 처리**는 쇼핑몰 솔루션/설계 방식에 따라 차이가 있습니다.

---

## 📌 일반적인 두 가지 패턴

### 1. **카트와 동일하게 합쳐짐 (가산 merge)** → **전통적/구현 단순**

- “바로구매”도 내부적으로는 **장바구니에 담기(add)** → 그 row의 `quantity` 증가.
    
- 따라서 **이미 장바구니에 같은 상품(옵션까지 동일)이 있다면 수량이 합쳐집니다.**
    
- 주문서는 `cart_id`만 받아 해당 row를 보여주므로, 결과적으로 **합쳐진 수량이 곧 “바로구매 수량”**이 됩니다.
    
- ✅ 장점: 구현 단순, 모든 주문 프로세스가 동일(배송비, 쿠폰, 적립금 계산 등).
    
- ⚠️ 단점: 사용자가 “딱 지금 N개만 바로구매”를 원했는데, 기존 카트 수량이 섞여 의도와 다른 수량이 주문서에 표시될 수 있음.
    

### 2. **“바로구매 전용”으로 별도 row 생성 (split)** → **최근 트렌드**

- 장바구니 merge 로직을 따르지 않고, “바로구매” 요청이면 **무조건 새로운 cart row**를 만듭니다.
    
- 주문서는 그 신규 row(cart_id)만 보여주므로, **사용자가 지정한 수량 N이 그대로 유지**됩니다.
    
- ✅ 장점: UX 일관성 — 사용자가 기대한 “바로 이 수량”이 보장됨.
    
- ⚠️ 단점: cart 테이블에 같은 상품 row가 중복해서 쌓임 (관리/정리 필요).
    

---

## 📌 “보통의 경우”는?

- **국내 솔루션(Cafe24, 메이크샵, 고도몰 등)** 의 기본 구현은 **패턴 1 (합쳐짐)** 입니다.
    
    - 이유: 주문/배송/쿠폰 로직을 단일화하려고 “장바구니=주문의 진입점”으로 강제 설계했기 때문.
        
- 하지만 **자체 구축몰**이나 최근 UX 민감한 서비스들은 **패턴 2 (별도 row)** 를 채택하는 경우가 많습니다.
    
    - 예: 쿠팡/네이버쇼핑처럼 “바로구매=즉시 결제” 성격이 강한 곳.
        

---

## 📌 정리

- **전통적/기본 솔루션**: 👉 바로구매 시에도 기존 카트 row와 **수량이 합쳐지는 게 보통**
    
- **요즘 권장 UX**: 👉 합치지 않고, **그 순간의 수량만 반영된 신규 row**를 만들어 바로 결제